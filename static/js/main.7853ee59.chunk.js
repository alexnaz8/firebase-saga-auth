(this["webpackJsonpredux-firebase-auth"]=this["webpackJsonpredux-firebase-auth"]||[]).push([[0],{70:function(e,t,a){e.exports=a(95)},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),o=a(45),u=a(22),s=a(24),m=a(57),i=a(13),p=a(34),d=a(20),f=function(e){return e.docs.map((function(e){return Object(d.a)({},e.data(),{id:e.id})}))},E=function(e){var t=e.users,a=e.showUserInfo,n=e.showEditUserForm,c=e.deleteUser;if(!t.length)return r.a.createElement("h1",null,"Here is no data");var l,o=function(e){return[].concat(Object(p.a)(e.filter((function(e){return"empID"===e||"empName"===e}))),Object(p.a)(e.filter((function(e){return"empID"!==e&&"empName"!==e}))))}((l=t,Object(p.a)(new Set(l.map((function(e){return Object.entries(e).map((function(e){return e[0]})).filter((function(e){return"id"!==e}))})).flat(1))))),u=o.map((function(e){return r.a.createElement("th",{key:e},e)})),s=t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(i.a,{variant:"link",onClick:function(){return a(e)}},"View")),r.a.createElement("td",null," ",r.a.createElement(i.a,{variant:"link",onClick:function(){return n(e)}},"Edit")),o.map((function(t){return"empActive"===t?r.a.createElement("td",{key:t,className:"align-middle"},e[t]?"Yes":"No"):r.a.createElement("td",{key:t,className:"align-middle"},e[t])})),r.a.createElement("td",null," ",r.a.createElement(i.a,{variant:"link",onClick:function(){return c(e)}},"Delete")))}));return r.a.createElement(m.a,{striped:!0,bordered:!0,size:"sm",responsive:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null),u,r.a.createElement("th",null))),r.a.createElement("tbody",null,s))},b=a(37),v=a(25),h=Object(v.b)((function(e){var t=e.modal;return{title:t.title,bodyContent:t.content}}))((function(e){var t=e.title,a=e.showModal,n=e.closeModal,c=e.bodyContent;if(!a)return null;var l=r.a.isValidElement(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{show:a,onHide:n},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,t)),r.a.createElement(b.a.Body,null,l?c:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Employee ID: ",c.empID),r.a.createElement("p",null,"Employee name: ",c.empName),r.a.createElement("p",null,"Employee is active:"," ",c.empActive?"Yes":"No"),r.a.createElement("p",null,"Employee's department:"," ",c.empDepartment)))))})),y=a(26),g=a(47),O=a(42),j=a(16),C=a(17),w=a(7),x=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},U=function(e){var t=e.onUserSearch;return r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(C.a,{md:4},r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault();var a=e.target.elements.name.value;a=x(a),t(a)}},r.a.createElement(w.a.Group,{controlId:"search-input"},r.a.createElement(w.a.Label,null,"Employee Name"),r.a.createElement(g.a,{className:"mb-3"},r.a.createElement(O.a,{placeholder:"Type name here","aria-label":"Type name here",name:"name"}),r.a.createElement(g.a.Append,null,r.a.createElement(i.a,{type:"submit",variant:"outline-secondary"},"Search"))))))))},S=a(48),k=a.n(S);a(90);k.a.initializeApp({apiKey:"AIzaSyDEFDGeqZfHfFsObNryHL1pVwo21KDFoug",authDomain:"https://redux-saga-firebase-9fe8a.firebaseio.com",databaseURL:"https://redux-saga-firebase-9fe8a.firebaseio.com",projectId:"redux-saga-firebase-9fe8a",storageBucket:"redux-saga-firebase-9fe8a.appspot.com",messagingSenderId:"614863852779",appId:"1:614863852779:web:9bce4da22b1b59bc821aae"});var D=k.a,N=function(e){var t=e.onClose,a=e.onSubmit,c=e.user,l=e.departments,o=Object(n.useState)(c.empName),u=Object(s.a)(o,2),m=u[0],p=u[1],f=Object(n.useState)(c.empActive),E=Object(s.a)(f,2),b=E[0],v=E[1],h=Object(n.useState)(c.empDepartment),y=Object(s.a)(h,2),g=y[0],O=y[1],U=l.map((function(e,t){return r.a.createElement("option",{key:e+t},e)}));return r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),a(Object(d.a)({},c,{empName:m,empActive:b,empDepartment:g}))}},r.a.createElement(w.a.Group,{as:j.a,controlId:"empName"},r.a.createElement(w.a.Label,{column:!0,sm:4},"empName"),r.a.createElement(C.a,{sm:8},r.a.createElement(w.a.Control,{type:"text",placeholder:"Name",name:"empName",value:m,onChange:function(e){var t=e.target;return p(x(t.value))}}))),r.a.createElement(w.a.Group,{as:j.a,controlId:"epmActive"},r.a.createElement(w.a.Label,{column:!0,sm:4},"isActive"),r.a.createElement(C.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement(w.a.Check,{checked:b,name:"empActive",onChange:function(e){var t=e.target;return v(t.checked)}}))),r.a.createElement(w.a.Group,{as:j.a,sm:10,controlId:"departmentSelect"},r.a.createElement(w.a.Label,{column:!0,sm:4},"empDepartment"),r.a.createElement(C.a,{sm:8},r.a.createElement(w.a.Control,{as:"select",value:g,onChange:function(e){var t=e.target;return O(t.value)}},U))),r.a.createElement(w.a.Group,{as:j.a},r.a.createElement(C.a,{className:"d-flex justify-content-around",sm:4},r.a.createElement(i.a,{type:"submit",variant:"secondary"},"Save"),r.a.createElement(i.a,{variant:"primary",onClick:t},"Cancel"))))},A=function(e){var t=e.onClose,a=e.onSubmit,c=Object(n.useState)(0),l=Object(s.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),v=b[0],h=b[1],y=Object(n.useState)(""),g=Object(s.a)(y,2),O=g[0],U=g[1];return r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),a({empID:o,empName:d,empActive:v,empDepartment:O}),u(+o+1),h(!1),f(""),U("")}},r.a.createElement(w.a.Group,{as:j.a,controlId:"empID"},r.a.createElement(w.a.Label,{column:!0,sm:4},"empID"),r.a.createElement(C.a,{sm:8},r.a.createElement(w.a.Control,{type:"number",name:"empID",placeholder:"ID",value:o,onChange:function(e){var t=e.target;return u(t.value)}}))),r.a.createElement(w.a.Group,{as:j.a,controlId:"empName"},r.a.createElement(w.a.Label,{column:!0,sm:4},"empName"),r.a.createElement(C.a,{sm:8},r.a.createElement(w.a.Control,{type:"text",name:"empName",placeholder:"Name",value:d,onChange:function(e){var t=e.target;return f(x(t.value))}}))),r.a.createElement(w.a.Group,{as:j.a,controlId:"empActive"},r.a.createElement(w.a.Label,{column:!0,sm:4},"isActive"),r.a.createElement(C.a,{sm:8,className:"d-flex align-items-center"},r.a.createElement(w.a.Check,{name:"empActive",checked:v,onChange:function(e){var t=e.target;return h(t.checked)}}))),r.a.createElement(w.a.Group,{as:j.a,controlId:"empDepartment"},r.a.createElement(w.a.Label,{column:!0,sm:4},"empDepartment"),r.a.createElement(C.a,{sm:8},r.a.createElement(w.a.Control,{type:"text",name:"empDepartment",placeholder:"Department",value:O,onChange:function(e){var t=e.target;return U(t.value)}}))),r.a.createElement(w.a.Group,{as:j.a},r.a.createElement(C.a,{className:"d-flex justify-content-around",sm:4},r.a.createElement(i.a,{className:"mx-2",type:"submit",variant:"secondary"},"Create"),r.a.createElement(i.a,{variant:"primary",onClick:t},"Cancel"))))},I=a(49),P=a.n(I),L=function(e){var t=e.totalAmount,a=e.itemsCountPerPage,n=void 0===a?4:a,c=e.pageRangeDisplayed,l=void 0===c?5:c,o=e.activePage,u=e.setActivePage,s=e.children,m=e.itemClass,i=void 0===m?"page-item":m,p=e.linkClass,d=void 0===p?"page-link":p,f=function(e){u(e)},E=t>n;return r.a.createElement(y.a,null,E?r.a.createElement(P.a,{activePage:o,itemsCountPerPage:n,totalItemsCount:t,pageRangeDisplayed:l,onChange:f,itemClass:i,linkClass:d}):null,r.a.createElement(j.a,null,s),E?r.a.createElement(P.a,{activePage:o,itemsCountPerPage:n,totalItemsCount:t,pageRangeDisplayed:l,onChange:f,itemClass:i,linkClass:d}):null)},R="SET_CURRENT_USER",T="CLEAR_CURRENT_USER",G="CREATE_USER",_="DELETE_USER",M="UPDATE_USER",F="GET_USERS_DATA",H="SET_USERS",z="SEARCH_USERS",B="GET_DEPARTMENTS",W="SET_DEPARTMENTS",Y="SET_MODAL_CONTENT",K="CLEAR_MODAL_CONTENT",V=function(){return{type:F}},J=function(e){return{type:H,payload:e}},q={setModalContent:function(e){return{type:Y,payload:e}},clearModalContent:function(){return{type:K}},getUsersData:V,deleteUser:function(e){return{type:_,payload:e.id}},createUser:function(e){return{type:G,payload:e}},updateUserData:function(e){return{type:M,payload:e}},findUsers:function(e){return{type:z,payload:e}}},Z=Object(v.b)((function(e){var t=e.auth,a=e.data,n=e.departments;return{currentUser:t.currentUser,users:a.users,departments:n.departments}}),q)((function(e){var t=e.currentUser,a=e.setModalContent,c=e.clearModalContent,l=e.users,o=e.getUsersData,u=e.createUser,m=e.updateUserData,p=e.deleteUser,d=e.departments,f=e.findUsers,b=Object(n.useState)(!1),v=Object(s.a)(b,2),g=v[0],O=v[1],w=Object(n.useState)(1),x=Object(s.a)(w,2),S=x[0],k=x[1],I=Object(n.useState)([]),P=Object(s.a)(I,2),R=P[0],T=P[1],G=function(){O(!0)},_=function(){O(!1),c()},M=function(e){m(e),_()};return Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){var e=l.slice(4*S-4,4*S);!e.length&&S>1?k(S-1):T(e)}),[l,S,4]),t?r.a.createElement(y.a,{className:"my-3"},r.a.createElement(j.a,null,r.a.createElement(y.a,{className:"d-flex justify-content-center"},r.a.createElement("h5",null,"You are logged in as ",t.email),r.a.createElement(i.a,{className:"mx-2",variant:"outline-secondary",size:"sm",onClick:function(){D.auth().signOut()}},"LogOut")),r.a.createElement(U,{onUserSearch:function(e){f(e)}}),r.a.createElement(y.a,{className:"pb-2"},r.a.createElement(i.a,{type:"button",variant:"light",onClick:function(){a({title:"Create User",content:r.a.createElement(A,{onClose:_,onSubmit:u,departments:d})}),G()}},"Add Employee")),r.a.createElement(L,{totalAmount:l.length,itemsCountPerPage:4,activePage:S,setActivePage:k},r.a.createElement(C.a,null,r.a.createElement(E,{users:R,showUserInfo:function(e){a({title:"User info",content:e}),G()},showEditUserForm:function(e){a({title:"Edit User",content:r.a.createElement(N,{onClose:_,onSubmit:M,user:e,departments:d})}),G()},deleteUser:p}))),r.a.createElement(h,{showModal:g,closeModal:_}))):null})),Q=a(12),X=a.n(Q),$=Object(v.b)((function(e){return{currentUser:e.auth.currentUser}}))(Object(u.f)((function(e){var t=e.currentUser,a=e.history,c=Object(n.useCallback)((function(e){var t,n,r;return X.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),t=e.target.elements,n=t.email,r=t.password,c.prev=2,c.next=5,X.a.awrap(D.auth().signInWithEmailAndPassword(n.value,r.value));case 5:a.push("/"),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),alert(c.t0);case 11:case"end":return c.stop()}}),null,null,[[2,8]])}),[a]);return t?r.a.createElement(u.a,{to:"/"}):r.a.createElement(y.a,null,r.a.createElement("h1",null,"Log in"),r.a.createElement(w.a,{onSubmit:c},r.a.createElement(w.a.Group,{controlId:"formEmail"},r.a.createElement(w.a.Label,null,"Email"),r.a.createElement(w.a.Control,{name:"email",type:"email",placeholder:"Email"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{name:"password",type:"password",placeholder:"Password"})),r.a.createElement(i.a,{type:"submit"},"Log in"),r.a.createElement("span",{className:"mx-2"},"or"),r.a.createElement(i.a,{onClick:function(){return a.push("/signup")}},"Sing Up")))}))),ee=Object(u.f)((function(e){var t=e.history,a=Object(n.useCallback)((function(e){var a,n,r,c;return X.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),a=e.target.elements,n=a.email.value,r=a.password.value,c=a.passwordConfirm.value,r!==c){l.next=14;break}return l.prev=3,l.next=6,X.a.awrap(D.auth().createUserWithEmailAndPassword(n,r));case 6:t.push("/"),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(3),alert(l.t0);case 12:l.next=15;break;case 14:alert("Password and confirmations are different!");case 15:case"end":return l.stop()}}),null,null,[[3,9]])}),[t]);return r.a.createElement(y.a,null,r.a.createElement("h1",null,"Sign up"),r.a.createElement(w.a,{onSubmit:a},r.a.createElement(w.a.Group,{controlId:"formEmail"},r.a.createElement(w.a.Label,null,"Email"),r.a.createElement(w.a.Control,{name:"email",type:"email",placeholder:"Email"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{name:"password",type:"password",placeholder:"Password"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Password Confirmation"),r.a.createElement(w.a.Control,{name:"passwordConfirm",type:"password",placeholder:"Repeat Your Password"})),r.a.createElement(i.a,{type:"submit"},"Sign Up")))})),te=a(61),ae=a(62),ne=a(68),re=a(63),ce=a(69),le=function(e){function t(){var e,a;Object(te.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(ne.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(ce.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",{className:"text-center"},"Well, something is not OK."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),t}(n.Component),oe=a(64),ue=Object(v.b)((function(e){return{currentUser:e.auth.currentUser}}))((function(e){var t=e.component,a=e.currentUser,n=Object(oe.a)(e,["component","currentUser"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/login"})}}))}));var se=Object(v.b)((function(e){return{currentUser:e.auth.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:R,payload:e}}(t))},clearCurrentUser:function(){return e({type:T})}}}))((function(e){var t=e.currentUser,a=e.setCurrentUser,c=e.clearCurrentUser;return Object(n.useEffect)((function(){return D.auth().onAuthStateChanged((function(e){e?a(e):c()}))}),[t,a,c]),r.a.createElement(le,null,r.a.createElement(o.a,{basename:"/"},r.a.createElement(ue,{exact:!0,path:"/",component:Z}),r.a.createElement(u.b,{exact:!0,path:"/login",component:$}),r.a.createElement(u.b,{exact:!0,path:"/signup",component:ee})))})),me=a(30),ie=a(65),pe=a(66),de=a(67),fe={currentUser:null},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(d.a)({},e,{currentUser:t.payload});case T:return Object(d.a)({},e,{currentUser:null});default:return e}},be={modal:{}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(d.a)({},e,{},t.payload);case K:return{modal:{}};default:return e}},he={users:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(d.a)({},e,{users:t.payload});case M:return Object(d.a)({},e,{},t.payload);case _:case F:default:return e}},ge={departments:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(d.a)({},e,{departments:t.payload});default:return e}},je=Object(me.combineReducers)({auth:Ee,modal:ve,data:ye,departments:Oe}),Ce=a(14),we=function(e){return{type:B,payload:e}},xe=function(e){return{type:W,payload:e}},Ue=a(41),Se=X.a.mark(Ke),ke=X.a.mark(Ve),De=X.a.mark(Je),Ne=X.a.mark(qe),Ae=X.a.mark(Ze),Ie=X.a.mark(Qe),Pe=X.a.mark(Xe),Le=X.a.mark($e),Re=X.a.mark(et),Te=X.a.mark(tt),Ge=X.a.mark(at),_e=X.a.mark(nt),Me=X.a.mark(rt);function Fe(e){return D.firestore().collection("users").add(e)}function He(e){return D.firestore().collection("users").doc(e.id).set(e)}function ze(){return D.firestore().collection("users").get()}function Be(e){return D.firestore().collection("users").doc(e).delete()}function We(e){var t=D.firestore();return e?t.collection("users").where("empName","==",e).get():t.collection("users").get()}function Ye(e){return Object(p.a)(new Set(e.map((function(e){return e.empDepartment}))))}function Ke(){var e,t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ce.a)(ze);case 2:return e=a.sent,t=f(e),a.next=6,Object(Ce.b)(J(t));case 6:return a.next=8,Object(Ce.b)(we(t));case 8:case"end":return a.stop()}}),Se)}function Ve(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(F,Ke);case 2:case"end":return e.stop()}}),ke)}function Je(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ce.a)(Be,t);case 3:return a.next=5,Object(Ce.b)(V());case 5:case"end":return a.stop()}}),De)}function qe(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(_,Je);case 2:case"end":return e.stop()}}),Ne)}function Ze(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ce.a)(Fe,t);case 3:return a.next=5,Object(Ce.b)(V());case 5:case"end":return a.stop()}}),Ae)}function Qe(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(G,Ze);case 2:case"end":return e.stop()}}),Ie)}function Xe(e){var t;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ce.a)(He,t);case 3:return a.next=5,Object(Ce.b)(V());case 5:case"end":return a.stop()}}),Pe)}function $e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(M,Xe);case 2:case"end":return e.stop()}}),Le)}function et(e){var t,a,n;return X.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Ce.a)(We,t);case 3:return a=r.sent,n=f(a),r.next=7,Object(Ce.b)(J(n));case 7:case"end":return r.stop()}}),Re)}function tt(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(z,et);case 2:case"end":return e.stop()}}),Te)}function at(e){var t,a;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(Ce.a)(Ye,t);case 3:return a=n.sent,n.next=6,Object(Ce.b)(xe(a));case 6:case"end":return n.stop()}}),Ge)}function nt(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.c)(B,at);case 2:case"end":return e.stop()}}),_e)}function rt(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)([Ve(),qe(),Qe(),$e(),nt(),tt()]);case 2:case"end":return e.stop()}}),Me)}var ct=Object(de.a)(),lt=[ie.logger,ct],ot=Object(me.createStore)(je,Object(pe.composeWithDevTools)(me.applyMiddleware.apply(void 0,lt)));ct.run(rt);var ut=ot,st=r.a.createElement(v.a,{store:ut},r.a.createElement(se,null));l.a.render(st,document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7853ee59.chunk.js.map